(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{109:function(e,t,n){},131:function(e,t,n){},150:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(33),s=n.n(c),o=n(45),i=n(11),u=(n(131),n(35)),l=n(112),j=n.n(l),d=n(197),b=n(196),m=(n(150),n(194)),h=n(199),p=n(2);function O(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)(""),O=Object(u.a)(l,2),f=O[0],g=O[1],x=Object(r.useState)(0),v=Object(u.a)(x,2),w=v[0],k=v[1];Object(r.useEffect)((function(){j.a.get("https://jsonplaceholder.typicode.com/todos").then((function(e){a(e.data)}))}),[]);var y=10*w,N=function(){return f.length>0?{data:o.slice(y,y+10),pagination:Math.floor(o.length/5)}:{data:n.slice(y,y+10),pagination:Math.floor(n.length/5)}};return console.log(N()),Object(p.jsxs)("div",{style:{padding:20},children:[Object(p.jsx)(d.a,{icon:"search",placeholder:"Search By title",onChange:function(e){return function(e){if(g(e),""!==f){var t=n.filter((function(e){return Object.values(e).join("").toLowerCase().includes(f.toLowerCase())}));i(t)}else i(n)}(e.target.value)}}),Object(p.jsx)(b.a.Group,{className:"flex column wrap",itemsPerRow:2,style:{marginTop:20},children:N().data.map((function(e){return Object(p.jsx)(b.a,{className:"card",sx:{minWidth:275},children:Object(p.jsxs)(m.a,{className:"center",children:[Object(p.jsx)(h.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:e.title}),Object(p.jsx)(h.a,{variant:"h5",component:"div",children:e.completed})]})})}))}),Object(p.jsx)("div",{className:"flex page",children:Array.from(new Array(N().pagination)).map((function(e,t){return Object(p.jsx)("div",{className:"pagination",onClick:function(){k(t)},children:t+1})}))})]})}var f=n(34),g=n(14),x=n(23),v=n(16),w=n.n(v),k=n(27),y=n(31);function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.token||"").split(":")[0];return I(t,e)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.token;return new Promise((function(t,r){setTimeout((function(){if(n){if("siddharth"===e){return t({username:"siddharth",firstName:"siddharth",lastName:"sharma"})}return r(new Error('Username "'.concat(e,'" does not exist.')))}return r(new Error("Unauthorized User API call: missing auth token."))}),0)}))}var S=1453;function C(e){var t=e.username,n=e.password;return new Promise((function(e,r){setTimeout(Object(k.a)(w.a.mark((function a(){var c,s;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("siddharth"!==t||"sid123"!==n){a.next=12;break}return a.prev=1,c="".concat(t,":").concat(Object(y.d)()),a.next=5,I(t,{token:c});case 5:return s=a.sent,a.abrupt("return",e({token:c,user:s}));case 9:return a.prev=9,a.t0=a.catch(1),a.abrupt("return",r(a.t0));case 12:return a.abrupt("return",r(new Error("Invalid username and password. Please login with (username: siddharth, password: sid123). \ud83d\ude0c\ud83d\udc21")));case 13:case"end":return a.stop()}}),a,null,[[1,9]])}))),S)}))}function M(){return new Promise((function(e){setTimeout(e,S)}))}var P,U="_t4gd-*-",A={isAuthenticated:function(){return!!E()},getToken:E,login:function(e){return T.apply(this,arguments)},logout:function(){return F.apply(this,arguments)}};function E(){return sessionStorage.getItem(U)||localStorage.getItem(U)}function T(){return(T=Object(k.a)(w.a.mark((function e(t){var n,r,a,c,s,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.password,a=t.rememberMe,e.next=3,C({username:n,password:r});case 3:return c=e.sent,s=c.token,o=c.user,a?localStorage.setItem(U,s):sessionStorage.setItem(U,s),e.abrupt("return",{token:s,user:o});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(k.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:sessionStorage.removeItem(U),localStorage.removeItem(U);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=Object(y.b)("signin/checkAuth",Object(k.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A.isAuthenticated()){e.next=6;break}return t=A.getToken(),e.next=4,N({token:t});case 4:return n=e.sent,e.abrupt("return",{token:t,user:n});case 6:return e.abrupt("return",{token:null,user:null});case 7:case"end":return e.stop()}}),e)})))),z=Object(y.b)("signin/login",A.login),B=Object(y.b)("signin/logout",A.logout),W={loading:!0,error:null,loggedIn:!1,loggedInUser:null,token:null},R=Object(y.c)({name:"signin",initialState:W,reducers:{},extraReducers:(P={},Object(g.a)(P,L.pending,q),Object(g.a)(P,L.fulfilled,(function(e,t){var n=t.payload,r=n.token,a=void 0===r?null:r,c=n.user,s=void 0===c?null:c;Object.assign(e,{loading:!1,error:null,loggedIn:!!a,loggedInUser:s,token:a})})),Object(g.a)(P,L.rejected,H),Object(g.a)(P,z.pending,q),Object(g.a)(P,z.fulfilled,(function(e,t){var n=t.payload,r=n.token,a=n.user;Object.assign(e,{loading:!1,loggedIn:!0,loggedInUser:a,token:r})})),Object(g.a)(P,z.rejected,H),Object(g.a)(P,B.pending,q),Object(g.a)(P,B.fulfilled,(function(e){return Object.assign(e,Object(x.a)(Object(x.a)({},W),{},{loading:!1}))})),Object(g.a)(P,B.rejected,H),P)});function q(e){Object.assign(e,{loading:!0,error:null})}function H(e,t){Object.assign(e,{loading:!1,error:t.error})}var J=function(e){return e.signin},D=R.reducer;function G(){var e=Object(f.c)(J).loggedInUser;return Object(p.jsxs)("div",{className:"page-landing",children:[Object(p.jsx)("h1",{children:"Home page"}),Object(p.jsxs)("p",{children:["Welcome ",e.firstName,"."]})]})}function Y(){return Object(p.jsx)("div",{className:"page-not-found",children:Object(p.jsx)("h2",{children:"Page not found."})})}var $=n(10),_=a.a.memo((function(e){var t=e.message;return Object(p.jsx)("p",{className:"error-block",style:{color:"red"},children:t})}));function K(){return Object(p.jsx)("p",{children:"Loading..."})}n(109);var Q=["children"];function V(e){var t=e.children,n=Object($.a)(e,Q),a=Object(f.c)(J),c=a.loading,s=a.loggedIn,o=a.error,u=Object(f.b)(),l=Object(i.g)();return Object(r.useEffect)((function(){u(L())}),[u]),c?Object(p.jsx)(K,{}):Object(p.jsxs)(p.Fragment,{children:[o&&Object(p.jsx)(_,{message:o.message}),Object(p.jsx)(i.b,Object(x.a)(Object(x.a)({},n),{},{render:function(e){return function(e){var n=e.pathname.includes("login");if(s){if(n){var r=(e.state||{from:{pathname:"/"}}).from;return Object(p.jsx)(i.a,{to:{pathname:r.pathname,state:{from:r}}})}return Object(p.jsxs)(p.Fragment,{children:[t,Object(p.jsx)("button",{className:"logout",onClick:Object(k.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(B());case 2:l.push("/");case 3:case"end":return e.stop()}}),e)}))),children:"Log Out"})]})}return n?t:Object(p.jsx)(i.a,{to:{pathname:"/login",state:{from:e}}})}(e.location)}}))]})}function X(){var e=Object(r.useState)({username:"",password:"",rememberMe:!1}),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(f.b)(),s=Object(i.g)(),o=(Object(i.h)().state||{from:{pathname:"/"}}).from;return Object(p.jsxs)("div",{className:"page-login ",children:[Object(p.jsxs)("p",{className:"center",children:["You must log in to view the page at ",o.pathname]}),Object(p.jsxs)("form",{className:"login-form",children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{className:"left",htmlFor:"username",style:{display:"block"},children:"Username:"}),Object(p.jsx)("input",{id:"username",className:"input",name:"username",type:"text",required:!0,size:"32",value:n.username,onChange:l})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"password",style:{display:"block"},children:"Password:"}),Object(p.jsx)("input",{className:"input",id:"password",name:"password",type:"password",required:!0,size:"32",value:n.password,onChange:l})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"rememberMe",children:"Remember me"}),Object(p.jsx)("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:n.rememberMe,onChange:l})]}),Object(p.jsx)("button",{className:"submit",onClick:function(e){return j.apply(this,arguments)},children:"Login"})]})]});function l(e){var t=e.target,r=t.name,c=t.type,s=t.value,o=t.checked;a(Object(x.a)(Object(x.a)({},n),{},Object(g.a)({},r,"checkbox"===c?o:s)))}function j(){return(j=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(z(n));case 3:s.replace(o);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}n(164);var Z=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("nav",{className:"menu navbar",children:Object(p.jsxs)("ul",{className:"menu",children:[Object(p.jsx)("li",{children:Object(p.jsx)(o.b,{to:"/",children:"Home"})}),Object(p.jsx)("li",{children:Object(p.jsx)(o.b,{to:"/dummy",children:"Posts"})})]})}),Object(p.jsxs)(i.d,{children:[Object(p.jsx)(V,{exact:!0,path:["/","/index.html"],children:Object(p.jsx)(G,{})}),Object(p.jsx)(V,{path:["/dummy","/wtfk"],children:Object(p.jsx)(O,{})}),Object(p.jsx)(V,{path:"/login",children:Object(p.jsx)(X,{})}),Object(p.jsx)(i.b,{path:"*",children:Object(p.jsx)(Y,{})})]})]})},ee=n(30),te=Object(ee.b)({signin:D});var ne=Object(y.a)({reducer:te});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(f.a,{store:ne,children:Object(p.jsx)(o.a,{children:Object(p.jsx)(i.b,{path:"/",component:Z})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[165,1,2]]]);
//# sourceMappingURL=main.b3e5c8e3.chunk.js.map